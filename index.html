<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Mystia â€“ Accueil</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <canvas id="bg-stars"></canvas>
    <header>
        <div class="logo">Mystia</div>
        <nav>
            <a href="index.html" class="active" data-i18n="menu_home">Accueil</a>
            <a href="cgu.html" data-i18n="menu_cgu">CGU</a>
            <a href="privacy.html" data-i18n="menu_privacy">Politique de ConfidentialitÃ©</a>
            <a href="contact.html" data-i18n="menu_contact">Contact</a>
        </nav>
        <button class="lang-switch" id="langBtn">
            <span id="flagIcon" aria-label="switch language" style="font-size:1.15em;">EN ðŸ‡¬ðŸ‡§</span>
        </button>
    </header>

    <main>
        <div class="home-title" data-i18n="home_title">Mystia</div>
        <div class="home-desc" data-i18n="home_desc">
            Lâ€™application de cartomancie assistÃ©e par intelligence artificielle.<br>
            Mystia vous accompagne dans la dÃ©couverte de vous-mÃªme et la lecture des cartes, avec la puissance de lâ€™IA.
        </div>
        <!-- Tu peux ajouter ici des badges stores ou illustrations -->
    </main>

    <footer>
        <div data-i18n="legal_mentions">
            Mentions lÃ©galesÂ : Mystia, application de cartomancie assistÃ©e par IA. <br>
            Ã‰diteurÂ : Mystia Team, contact@mystia.eu. HÃ©bergeurÂ : OVHcloud, 2 rue Kellermann, 59100 Roubaix, France.<br>
            Â© 2024 Mystia. Tous droits rÃ©servÃ©s.
        </div>
    </footer>

    <script>
        const translations = {
            fr: {
                menu_home: "Accueil",
                menu_cgu: "CGU",
                menu_privacy: "Politique de ConfidentialitÃ©",
                menu_contact: "Contact",
                home_title: "Mystia",
                home_desc: "Lâ€™application de cartomancie assistÃ©e par intelligence artificielle.<br>Mystia vous accompagne dans la dÃ©couverte de vous-mÃªme et la lecture des cartes, avec la puissance de lâ€™IA.",
                legal_mentions: "Mentions lÃ©galesÂ : Mystia, application de cartomancie assistÃ©e par IA.<br>Ã‰diteurÂ : Mystia Team, contact@mystia.eu. HÃ©bergeurÂ : OVHcloud, 2 rue Kellermann, 59100 Roubaix, France.<br>Â© 2024 Mystia. Tous droits rÃ©servÃ©s.",
            },
            en: {
                menu_home: "Home",
                menu_cgu: "Terms of Use",
                menu_privacy: "Privacy Policy",
                menu_contact: "Contact",
                home_title: "Mystia",
                home_desc: "The AI-powered cartomancy app.<br>Mystia helps you discover yourself and read the cards, with the power of artificial intelligence.",
                legal_mentions: "Legal Notice: Mystia, AI-assisted cartomancy application.<br>Publisher: Mystia Team, contact@mystia.eu. Hosting: OVHcloud, 2 rue Kellermann, 59100 Roubaix, France.<br>Â© 2024 Mystia. All rights reserved.",
            }
        };

        function updateLangBtn(lang) {
            const flagIcon = document.getElementById('flagIcon');
            if (flagIcon) {
                if (lang === 'fr') flagIcon.textContent = "EN ðŸ‡¬ðŸ‡§";
                else flagIcon.textContent = "FR ðŸ‡«ðŸ‡·";
            }
        }

        let currentLang = navigator.language.startsWith("en") ? "en" : "fr";
        function setLang(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            updateLangBtn(lang);
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                let html = translations[lang][key];
                if (html) el.innerHTML = html;
            });
        }

        document.getElementById('langBtn').addEventListener('click', function () {
            setLang(currentLang === 'fr' ? 'en' : 'fr');
        });

        setLang(currentLang);
    </script>
    <script>
        (function () {
            const canvas = document.getElementById('bg-stars');
            const ctx = canvas.getContext('2d');
            let w = window.innerWidth, h = window.innerHeight;
            let stars = [];
            let shootingStars = [];
            let nextShooting = Date.now() + 2000 + Math.random() * 4000; // premier passage entre 2s et 6s

            const STAR_COUNT = Math.max(120, Math.floor(w * h / 2500)); // adapte le nombre selon la taille d'Ã©cran

            function resize() {
                w = window.innerWidth;
                h = window.innerHeight;
                canvas.width = w;
                canvas.height = h;
            }

            function addShootingStar() {
                // L'Ã©toile filante partira d'un point haut (gauche ou droite), vers l'autre cÃ´tÃ©
                const fromLeft = Math.random() > 0.5;
                const yStart = Math.random() * h * 0.5 + h * 0.1; // entre 10% et 60% hauteur
                const length = 180 + Math.random() * 120;
                shootingStars.push({
                    x: fromLeft ? -50 : w + 50,
                    y: yStart,
                    vx: fromLeft ? 7 + Math.random() * 5 : -(7 + Math.random() * 5),
                    vy: 2 + Math.random() * 1.5,
                    alpha: 1,
                    length: length,
                    traveled: 0,
                    width: 2 + Math.random() * 2
                });
            }


            function createStars() {

                stars = [];

                for (let i = 0; i < STAR_COUNT; i++) {
                    stars.push({
                        x: Math.random() * w,
                        y: Math.random() * h,
                        r: Math.random() * 0.8 + 0.3,
                        vx: (Math.random() - 0.5) * 0.20,
                        vy: (Math.random() - 0.5) * 0.20,
                        opacity: Math.random() * 0.5 + 0.5
                    });
                }
            }

            /*function drawStars() {
                ctx.clearRect(0, 0, w, h);
                for (const s of stars) {
                    ctx.save();
                    ctx.globalAlpha = s.opacity;
                    ctx.beginPath();
                    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
                    ctx.fillStyle = "#fffbe8"; // couleur des Ã©toiles (blanc-jaune pÃ¢le)
                    ctx.shadowColor = "#fffbe8";
                    ctx.shadowBlur = 12;
                    ctx.fill();
                    ctx.restore();

                    // Move
                    s.x += s.vx;
                    s.y += s.vy;

                    // Rebond ou reset si hors Ã©cran
                    if (s.x < 0) s.x = w;
                    if (s.x > w) s.x = 0;
                    if (s.y < 0) s.y = h;
                    if (s.y > h) s.y = 0;
                }
                requestAnimationFrame(drawStars);
            }*/
            function drawStars() {
                ctx.clearRect(0, 0, w, h);
                // Etoiles normales
                for (const s of stars) {
                    ctx.save();
                    ctx.globalAlpha = s.opacity;
                    ctx.beginPath();
                    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
                    ctx.fillStyle = "#fffbe8";
                    ctx.shadowColor = "#fffbe8";
                    ctx.shadowBlur = 12;
                    ctx.fill();
                    ctx.restore();

                    s.x += s.vx;
                    s.y += s.vy;
                    if (s.x < 0) s.x = w;
                    if (s.x > w) s.x = 0;
                    if (s.y < 0) s.y = h;
                    if (s.y > h) s.y = 0;
                }

                // Shooting stars
                for (let i = shootingStars.length - 1; i >= 0; i--) {
                    let s = shootingStars[i];
                    ctx.save();
                    ctx.globalAlpha = s.alpha;
                    let grad = ctx.createLinearGradient(s.x, s.y, s.x - s.vx * 10, s.y - s.vy * 10);
                    grad.addColorStop(0, "#fffbe8");
                    grad.addColorStop(1, "rgba(255,255,230,0)");
                    ctx.strokeStyle = grad;
                    ctx.lineWidth = s.width;
                    ctx.beginPath();
                    ctx.moveTo(s.x, s.y);
                    ctx.lineTo(s.x - s.vx * s.length / 10, s.y - s.vy * s.length / 10);
                    ctx.stroke();
                    ctx.restore();

                    s.x += s.vx;
                    s.y += s.vy;
                    s.traveled += Math.sqrt(s.vx * s.vx + s.vy * s.vy);
                    s.alpha -= 0.008;

                    // Retirer l'Ã©toile filante si elle a parcouru assez de distance ou est devenue transparente
                    if (s.traveled > s.length || s.alpha <= 0) shootingStars.splice(i, 1);
                }

                // Ajoute une nouvelle Ã©toile filante de temps en temps
                if (Date.now() > nextShooting) {
                    addShootingStar();
                    // prochaine Ã©toile filante dans 2 Ã  6 secondes
                    nextShooting = Date.now() + 2000 + Math.random() * 4000;
                }

                requestAnimationFrame(drawStars);
            }


            window.addEventListener('resize', function () {
                resize();
                createStars();
            });

            // Init
            resize();
            createStars();
            drawStars();
        })();
    </script>

</body>

</html>